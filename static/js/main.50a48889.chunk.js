(this.webpackJsonpstore_test_task=this.webpackJsonpstore_test_task||[]).push([[0],{18:function(e,t,a){e.exports=a(35)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(16),i=a.n(c),s=a(7),l=a(3),o=a(1),u=(a(23),a(24),a(25),n.a.createContext(fetch("https://vitaliikorol.github.io/store_test_task/api/products.json").then((function(e){return e.json()})))),_=(a(26),function(e){var t=e.cloth,a=e.setTotal,c=e.total,i=Object(r.useState)(1),s=Object(l.a)(i,2),o=s[0],u=s[1];return n.a.createElement("div",{className:"CartItem"},n.a.createElement("div",{className:"CartItem__image_wrapper"},n.a.createElement("img",{src:t.product_images[1],alt:t.name,className:"CartItem__image"})),n.a.createElement("div",{className:"CartItem__specs"},n.a.createElement("p",{className:"CartItem__specs_title"},t.name),n.a.createElement("div",{className:"CartItem__specs_counter counter"},n.a.createElement("button",{disabled:0===o,type:"button",onClick:function(){u((function(e){return 0===e?e:e-1})),a(c-t.price)},className:"counter__button"},"-"),n.a.createElement("span",{className:"counter__value"},o),n.a.createElement("button",{disabled:o===t.left_in_stock,type:"button",onClick:function(){u((function(e){return e<t.left_in_stock?e+1:e})),a(c+t.price)},className:"counter__button"},"+"))),n.a.createElement("p",{className:"CartItem__price"},"$".concat(t.price*o)))}),m=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)([]),s=Object(l.a)(i,2),o=s[0],m=s[1],d=Object(r.useContext)(u),p=Object(r.useState)(720),f=Object(l.a)(p,2),b=f[0],E=f[1],g=function(){c((function(e){return!e}))};return Object(r.useEffect)((function(){d.then((function(e){return e.filter((function(e){return e.popularity%2}))})).then((function(e){return m(e)}))}),[d]),n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{type:"button",className:"Cart link-styling",onClick:g},n.a.createElement("img",{src:"https://vitaliikorol.github.io/store_test_task/images/icons/cart.png",alt:"cart",className:"Cart__logo"}),n.a.createElement("span",{className:"Cart__quantity"},o.length)),n.a.createElement("aside",{className:"Cart__body",style:{top:a?"calc(50vh - 41px)":"calc(-50vh - 41px)"}},n.a.createElement("div",{className:"Cart__body_close cbc"},n.a.createElement("button",{type:"button",onClick:g,className:"cbc__button"},n.a.createElement("img",{src:"https://vitaliikorol.github.io/store_test_task/images/icons/close.png",alt:"close",className:"cbc__button_img"}))),n.a.createElement("div",{className:"Cart__body_goods"},o.map((function(e){return n.a.createElement(_,{total:b,setTotal:E,cloth:e,key:e.article_no})}))),n.a.createElement("div",{className:"Cart__body_total"},n.a.createElement("p",null,"\u0418\u0442\u043e\u0433\u043e"),n.a.createElement("p",null,"$".concat(b))),n.a.createElement("button",{type:"button",className:"Cart__body_buy"},"\u041a\u0443\u043f\u0438\u0442\u044c")))},d=function(){return n.a.createElement("header",{className:"Header"},n.a.createElement(s.b,{to:"/",className:"Header__link link-styling"},n.a.createElement("img",{src:"https://vitaliikorol.github.io/store_test_task/images/icons/logo.png",alt:"Yamamoto logo",className:"Header__link_logo"})),n.a.createElement(m,null))},p=(a(32),a(33),a(9)),f=a.n(p),b=function(e){var t=e.activeView,a=e.setActiveView,c=e.viewSort,i=e.setViewSort,s=e.sortType,o=e.setSortType,u=Object(r.useState)(!0),_=Object(l.a)(u,2),m=_[0],d=_[1],p=function(e){a(e)},b=function(e){o(e)};return n.a.createElement("aside",{className:"SideBar"},n.a.createElement("ul",{className:"SideBar__list"},n.a.createElement("li",{className:"SideBar__list_item",style:{fontWeight:"All"===t?"bold":"lighter"},onClick:function(){return p("All")}},"\u0412\u0441\u0435"),n.a.createElement("li",{className:"SideBar__list_item",style:{fontWeight:"Coats"===t?"bold":"lighter"},onClick:function(){return p("Coats")}},"\u041f\u043b\u0430\u0449\u0438"),n.a.createElement("li",{className:"SideBar__list_item",style:{fontWeight:"Sneakers"===t?"bold":"lighter"},onClick:function(){return p("Sneakers")}},"\u041a\u0440\u043e\u0441\u0441\u043e\u0432\u043a\u0438"),n.a.createElement("li",{className:"SideBar__list_item",style:{fontWeight:"Shirts"===t?"bold":"lighter"},onClick:function(){return p("Shirts")}},"\u0420\u0443\u0431\u0430\u0448\u043a\u0438"),n.a.createElement("li",{className:"SideBar__list_item",style:{fontWeight:"Trousers"===t?"bold":"lighter"},onClick:function(){return p("Trousers")}},"\u0411\u0440\u044e\u043a\u0438")),n.a.createElement("button",{className:"SideBar__sort",onClick:function(){d((function(e){return!e})),i(m)}},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n.a.createElement("img",{src:"https://vitaliikorol.github.io/store_test_task/images/icons/up-arrow.png",alt:"\u2191",style:{transform:c?"":"rotate(180deg)"},className:"SideBar__sort_img"})),n.a.createElement("div",{className:"SideBar__sort_wrapper"},n.a.createElement("ul",{className:"SideBar__list SideBar__sort_list",style:{top:c?"0":"-190px"}},n.a.createElement("li",{onClick:function(){return b("Price_asc")},className:f()("Price_asc"===s?"SideBar__sort_list-item SideBar__sort_list-item-active":"SideBar__sort_list-item")},"\u041e\u0442 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u043a \u0434\u0435\u0448\u0435\u0432\u044b\u043c"),n.a.createElement("li",{onClick:function(){return b("Price_desc")},className:f()("Price_desc"===s?"SideBar__sort_list-item SideBar__sort_list-item-active":"SideBar__sort_list-item")},"\u041e\u0442 \u0434\u0435\u0448\u0435\u0432\u044b\u0445 \u043a \u0434\u043e\u0440\u043e\u0433\u0438\u043c"),n.a.createElement("li",{onClick:function(){return b("Popularity")},className:f()("Popularity"===s?"SideBar__sort_list-item SideBar__sort_list-item-active":"SideBar__sort_list-item")},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"),n.a.createElement("li",{onClick:function(){return b("Newest")},className:f()("Newest"===s?"SideBar__sort_list-item SideBar__sort_list-item-active":"SideBar__sort_list-item")},"\u041d\u043e\u0432\u044b\u0435"))))},E=(a(34),function(e){var t=e.item,a=Object(r.useState)(t.product_images[0]),c=Object(l.a)(a,2),i=c[0],o=c[1],u=Object(r.useState)(!1),_=Object(l.a)(u,2),m=_[0],d=_[1],p=t.product_images.findIndex((function(e){return e===i}));return n.a.createElement("section",{className:"ProductCard",onMouseEnter:function(){d(!0)},onMouseLeave:function(){d(!1)}},n.a.createElement(s.b,{to:"/".concat(t.article_no)},n.a.createElement("img",{src:i,alt:i,className:"ProductCard__image"})),n.a.createElement("div",{className:"ProductCard__wrapper"},n.a.createElement("div",{className:"ProductCard__slider ProdSlider",style:{opacity:m?"100%":"0%"}},n.a.createElement("button",{onClick:function(){o(0===p?t.product_images[t.product_images.length-1]:t.product_images[p-1])},className:"ProdSlider__button"},n.a.createElement("img",{src:"https://vitaliikorol.github.io/store_test_task/images/icons/up-arrow.png",alt:"\u2190",className:"ProdSlider__button ProdSlider__button_left"})),n.a.createElement("ul",{className:"ProdSlider__list"},t.product_images.map((function(e){return n.a.createElement("li",{key:e,className:f()(i===e?"ProdSlider__list_item ProdSlider__list_item-active":"ProdSlider__list_item"),onClick:function(){o(e)}},n.a.createElement("img",{src:e,alt:"",className:"ProdSlider__list_item-image"}))}))),n.a.createElement("button",{onClick:function(){p+1===t.product_images.length?o(t.product_images[0]):o(t.product_images[p+1])},className:"ProdSlider__button"},n.a.createElement("img",{src:"https://vitaliikorol.github.io/store_test_task/images/icons/up-arrow.png",alt:"\u2190",className:"ProdSlider__button ProdSlider__button_right"}))),n.a.createElement("div",{className:"ProductCard__description"},n.a.createElement("p",{className:"ProductCard__description_type"},function(e){switch(e){case"Coats":return"\u041f\u043b\u0430\u0449\u0438";case"Sneakers":return"\u041a\u0440\u043e\u0441\u0441\u043e\u0432\u043a\u0438";case"Shirts":return"\u0420\u0443\u0431\u0430\u0448\u043a\u0438";case"Trousers":return"\u0411\u0440\u044e\u043a\u0438"}}(t.type)),n.a.createElement("p",{className:"ProductCard__description_title"},t.name)),n.a.createElement("div",{className:"ProductCard__price"},n.a.createElement("h1",{className:"ProductCard__price_value"},"$".concat(t.price)),n.a.createElement("p",{className:"ProductCard__price_stock"},"\u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435: ".concat(t.left_in_stock)))))}),g=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)("All"),s=Object(l.a)(i,2),o=s[0],_=s[1],m=Object(r.useState)(!1),d=Object(l.a)(m,2),p=d[0],f=d[1],g=Object(r.useState)(""),N=Object(l.a)(g,2),S=N[0],k=N[1],h=Object(r.useContext)(u);Object(r.useEffect)((function(){h.then((function(e){return c(e)}))}),[h]);var C=Object(r.useCallback)((function(){return"All"===o?a:a.filter((function(e){return e.type===o}))}),[a,o]),v=Object(r.useMemo)((function(){return""===S?C():function(e,t){switch(t){case"Price_asc":return e.sort((function(e,t){return t.price-e.price}));case"Price_desc":return e.sort((function(e,t){return e.price-t.price}));case"Popularity":return e.sort((function(e,t){return e.popularity-t.popularity}));case"Newest":return e.sort((function(e,t){return e.age-t.age}))}}(C(),S)}),[S,C]);return n.a.createElement("main",{className:"Main"},n.a.createElement(b,{activeView:o,setActiveView:_,viewSort:p,setViewSort:f,sortType:S,setSortType:k}),n.a.createElement("div",{className:"Main__catalog"},null===v||void 0===v?void 0:v.map((function(e){return n.a.createElement(E,{item:e,key:e.name})}))))},N=function(){return n.a.createElement("p",null,"1")},S=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(r.useContext)(u);return Object(r.useEffect)((function(){i.then((function(e){return c(e)}))}),[i]),n.a.createElement(n.a.Fragment,null,n.a.createElement(d,null),n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/",exact:!0,component:g}),a.map((function(e){return n.a.createElement(o.a,{key:e.article_no,path:"/".concat(e.article_no),render:function(){return n.a.createElement(N,null)}})}))))};i.a.render(n.a.createElement(s.a,{basename:"/store_test_task"},n.a.createElement(S,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.50a48889.chunk.js.map