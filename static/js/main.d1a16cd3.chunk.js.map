{"version":3,"sources":["Cart/cart.tsx","Header/header.tsx","SideBar/sideBar.tsx","Additional/api.ts","ProductCard/productCard.tsx","Main/main.tsx","App.tsx","index.tsx"],"names":["Cart","useState","showCart","setShowCart","handleShowCart","prevState","type","className","onClick","src","alt","style","top","Header","SideBar","activeView","setActiveView","viewSort","setViewSort","sortType","setSortType","view","setView","handleActiveView","target","handleSort","value","console","log","fontWeight","transform","cn","ClothesFromServer","React","createContext","fetch","then","response","json","ProductCard","item","product_images","activeImage","setActiveImage","sliderVisible","setSliderVisible","index","findIndex","el","onMouseEnter","onMouseLeave","opacity","length","map","img","key","defineTypeOfCloth","name","price","left_in_stock","Main","clothes","setClothes","goodsFromServer","useContext","useEffect","data","clothAsPerView","useCallback","filter","sortedClothes","useMemo","array","sort","a","b","popularity","age","sortFunction","App","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.d1a16cd3.chunk.js","sourcesContent":["import React, {useState} from \"react\";\nimport './cart.scss'\n\nexport const Cart = () => {\n  const [showCart, setShowCart] = useState(false);\n\n  const handleShowCart = () => {\n    setShowCart(prevState => !prevState)\n  }\n\n\n  return (\n    <>\n      <button type=\"button\" className=\"Cart\" onClick={handleShowCart}>\n        <img src=\"https://raw.githubusercontent.com/vitaliikorol/store_test_task/master/public/images/icons/cart.png\" alt=\"cart\" className=\"Cart__logo\"/>\n        <span className=\"Cart__quantity\">1</span>\n      </button>\n      <aside className=\"Cart__body\" style={{top: showCart ? \"0\" : \"-100vh\"}}>\n        <div className=\"Cart__body_close cbc\">\n          <button type=\"button\" onClick={handleShowCart} className=\"cbc__button\">\n            <img src=\"https://raw.githubusercontent.com/vitaliikorol/store_test_task/master/public/images/icons/close.png\" alt=\"close\" className=\"cbc__button_img\"/>\n          </button>\n        </div>\n        <button type=\"button\" className=\"Cart__body_buy\">Купить</button>\n      </aside>\n    </>\n  )\n}\n","import React from \"react\";\nimport './header.scss'\nimport {Cart} from \"../Cart/cart\";\n\nexport const Header = () => {\n  return (\n    <header className=\"Header\">\n      <div className=\"Header__empty\"></div>\n      <img src=\"https://raw.githubusercontent.com/vitaliikorol/store_test_task/master/public/images/icons/logo.png\" alt=\"Yamamoto logo\" className=\"Header__logo\"/>\n      <Cart />\n    </header>\n  )\n}\n","import React, {FC, useState} from \"react\";\nimport './sidebar.scss';\nimport cn from 'classnames';\n\ntype Params = {\n  activeView: string;\n  setActiveView: (value: string) => void;\n  viewSort: boolean;\n  setViewSort: (value: boolean) => void;\n  sortType: string;\n  setSortType: (value: string) => void;\n}\n\nexport const SideBar: FC<Params> = ({\n                                      activeView,\n                                      setActiveView,\n                                      viewSort,\n                                      setViewSort,\n                                      sortType,\n                                      setSortType,\n                                    }) => {\n  const [view, setView] = useState(true)\n  const handleActiveView = (target: string) => {\n    setActiveView(target)\n  }\n  const handleViewSort = () => {\n    setView(prevState => !prevState);\n    setViewSort(view);\n  }\n\n  const handleSort = (value: string) => {\n    setSortType(value);\n    console.log(value)\n  }\n\n  return (\n    <aside className=\"SideBar\">\n      <ul className=\"SideBar__list\">\n        <li\n          className=\"SideBar__list_item\"\n          style={{fontWeight: activeView === 'All' ? 'bold' : 'lighter'}}\n          onClick={() => handleActiveView('All')}\n        >\n          Все\n        </li>\n        <li\n          className=\"SideBar__list_item\"\n          style={{fontWeight: activeView === 'Coats' ? 'bold' : 'lighter'}}\n          onClick={() => handleActiveView('Coats')}\n        >\n          Плащи\n        </li>\n        <li\n          className=\"SideBar__list_item\"\n          style={{fontWeight: activeView === 'Sneakers' ? 'bold' : 'lighter'}}\n          onClick={() => handleActiveView('Sneakers')}\n        >\n          Кроссовки\n        </li>\n        <li\n          className=\"SideBar__list_item\"\n          style={{fontWeight: activeView === 'Shirts' ? 'bold' : 'lighter'}}\n          onClick={() => handleActiveView('Shirts')}\n        >\n          Рубашки\n        </li>\n        <li\n          className=\"SideBar__list_item\"\n          style={{fontWeight: activeView === 'Trousers' ? 'bold' : 'lighter'}}\n          onClick={() => handleActiveView('Trousers')}\n        >\n          Брюки\n        </li>\n      </ul>\n      <button className=\"SideBar__sort\" onClick={handleViewSort}>\n        Сортировать\n        <img\n        src=\"https://raw.githubusercontent.com/vitaliikorol/store_test_task/master/public/images/icons/up-arrow.png\"\n        alt=\"&uarr;\"\n        style={{transform: viewSort ? 'rotate(180deg)' : ''}}\n        className=\"SideBar__sort_img\"/>\n      </button>\n      <div className=\"SideBar__sort_wrapper\">\n        <ul\n          className=\"SideBar__list SideBar__sort_list\"\n          style={{top: viewSort ? '0' : '-190px'}}\n        >\n          <li\n            onClick={() => handleSort('Price_asc')}\n            className={cn(sortType === 'Price_asc' ? \"SideBar__sort_list-item SideBar__sort_list-item-active\" : \"SideBar__sort_list-item\")}\n          >\n            От дорогих к дешевым\n          </li>\n          <li\n            onClick={() => handleSort('Price_desc')}\n            className={cn(sortType === 'Price_desc' ? \"SideBar__sort_list-item SideBar__sort_list-item-active\" : \"SideBar__sort_list-item\")}\n          >\n            От дешевых к дорогим\n          </li>\n          <li\n            onClick={() => handleSort('Popularity')}\n            className={cn(sortType === 'Popularity' ? \"SideBar__sort_list-item SideBar__sort_list-item-active\" : \"SideBar__sort_list-item\")}\n          >\n            Популярные\n          </li>\n          <li\n            onClick={() => handleSort('Newest')}\n            className={cn(sortType === 'Newest' ? \"SideBar__sort_list-item SideBar__sort_list-item-active\" : \"SideBar__sort_list-item\")}\n          >\n            Новые\n          </li>\n        </ul>\n      </div>\n    </aside>\n\n  )\n}\n","import React from \"react\";\n\nconst clothes = 'https://vitaliikorol.github.io/store_test_task/api/products.json'\nconst downloadClothes = () => fetch(clothes).then(response => response.json());\n\nexport const ClothesFromServer = React.createContext(downloadClothes())\n\n","import React, {FC, useState} from \"react\";\nimport './productCard.scss'\nimport {ClothItem} from \"../Additional/Interfaces\";\nimport cn from 'classnames';\n\ntype Params = {\n  item: ClothItem,\n}\n\nexport const ProductCard: FC<Params> = ({item}) => {\n  const [activeImage, setActiveImage] = useState(item.product_images[0])\n  const [sliderVisible, setSliderVisible] = useState(false)\n  const index = item.product_images.findIndex(el => el === activeImage)\n\n  const handleActiveImage = (imgUrl: string) => {\n    setActiveImage(imgUrl)\n  }\n\n  const handlePrevButton = () => {\n    index === 0\n      ? setActiveImage(item.product_images[item.product_images.length - 1])\n      : setActiveImage(item.product_images[index - 1])\n  }\n\n  const handleNextButton = () => {\n    index + 1 === item.product_images.length\n      ? setActiveImage(item.product_images[0])\n      : setActiveImage(item.product_images[index + 1])\n  }\n\n  const defineMouseEnter = () => {\n    setSliderVisible(true)\n  }\n\n  const defineMouseLeave = () => {\n    setSliderVisible(false)\n  }\n\n  const defineTypeOfCloth = (type: string) => {\n    switch (type) {\n      case \"Coats\":\n        return 'Плащи';\n      case \"Sneakers\":\n        return 'Кроссовки';\n      case \"Shirts\":\n        return \"Рубашки\";\n      case \"Trousers\":\n        return \"Брюки\"\n    }\n  }\n\n  return (\n    <section\n      className=\"ProductCard\"\n      onMouseEnter={defineMouseEnter}\n      onMouseLeave={defineMouseLeave}\n    >\n      <img src={activeImage} alt=\"\" className=\"ProductCard__image\"/>\n      <div className=\"ProductCard__wrapper\">\n        <div\n          className=\"ProductCard__slider ProdSlider\"\n        style={{opacity: sliderVisible ? '100%' : '0%'}}>\n          <button\n            onClick={handlePrevButton}\n            className=\"ProdSlider__button\">\n            <img\n              src=\"https://raw.githubusercontent.com/vitaliikorol/store_test_task/master/public/images/icons/up-arrow.png\"\n              alt=\"&larr;\" className=\"ProdSlider__button ProdSlider__button_left\"/>\n          </button>\n          <ul className=\"ProdSlider__list\">\n            {item.product_images.map(img => (\n              <li\n                key={img}\n                className={cn(activeImage === img ? 'ProdSlider__list_item ProdSlider__list_item-active' : 'ProdSlider__list_item')}\n                onClick={() => handleActiveImage(img)}>\n                <img src={img} alt=\"\" className=\"ProdSlider__list_item-image\"/>\n              </li>\n            ))}\n          </ul>\n          <button\n            onClick={handleNextButton}\n            className=\"ProdSlider__button\">\n            <img\n              src=\"https://raw.githubusercontent.com/vitaliikorol/store_test_task/master/public/images/icons/up-arrow.png\"\n              alt=\"&larr;\" className=\"ProdSlider__button ProdSlider__button_right\"/>\n          </button>\n        </div>\n        <div className=\"ProductCard__description\">\n          <p className=\"ProductCard__description_type\">{defineTypeOfCloth(item.type)}</p>\n          <p className=\"ProductCard__description_title\">{item.name}</p>\n        </div>\n        <div className=\"ProductCard__price\">\n          <h1 className=\"ProductCard__price_value\">{`$${item.price}`}</h1>\n          <p className=\"ProductCard__price_stock\">{`на складе: ${item.left_in_stock}`}</p>\n        </div>\n      </div>\n    </section>\n  )\n}\n","import React, {useCallback, useContext, useEffect, useMemo, useState} from \"react\";\nimport './main.scss'\nimport {SideBar} from \"../SideBar/sideBar\";\nimport {ClothesFromServer} from \"../Additional/api\";\nimport {ClothItem} from \"../Additional/Interfaces\";\nimport {ProductCard} from \"../ProductCard/productCard\";\n\nexport const Main = () => {\n  const [clothes, setClothes] = useState([])\n  const [activeView, setActiveView] = useState('All');\n  const [viewSort, setViewSort] = useState(false);\n  const [sortType, setSortType] = useState('')\n  const goodsFromServer = useContext(ClothesFromServer);\n\n  useEffect(() => {\n   goodsFromServer.then(data => setClothes(data))\n  }, [goodsFromServer])\n\n\n  const sortFunction = (array: ClothItem[], type: string) => {\n    switch (type) {\n      case 'Price_asc':\n        return array.sort((a, b) => (b.price - a.price))\n      case 'Price_desc':\n        return array.sort((a, b) => (a.price - b.price))\n      case 'Popularity':\n        return array.sort((a, b) => (a.popularity - b.popularity))\n      case 'Newest':\n        return array.sort((a, b) => (a.age - b.age))\n    }\n  }\n\n  const clothAsPerView = useCallback(() => {\n    return activeView === 'All'\n      ? clothes\n      : clothes.filter((el: ClothItem) => el.type === activeView)\n  }, [clothes, activeView])\n\n  const sortedClothes = useMemo(() => {\n    return sortType === ''\n    ? clothAsPerView()\n      : sortFunction(clothAsPerView(), sortType)\n  }, [sortType, clothAsPerView])\n\n  return (\n    <main className=\"Main\">\n      <SideBar activeView={activeView}\n               setActiveView={setActiveView}\n               viewSort={viewSort}\n               setViewSort={setViewSort}\n               sortType={sortType}\n               setSortType={setSortType}\n      />\n      <div className=\"Main__catalog\">\n        {sortedClothes?.map((el: ClothItem) => (\n          <ProductCard item={el} key={el.name}/>\n        ))}\n      </div>\n\n    </main>\n  )\n}\n","import React from 'react'\nimport './App.scss';\nimport {Header} from \"./Header/header\";\nimport {Main} from \"./Main/main\";\n\nconst App = () => {\n  return (\n    <>\n      <Header/>\n      <Main />\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter basename=\"/store_test_task\">\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}